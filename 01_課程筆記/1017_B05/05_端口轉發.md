# ç«¯å£è½‰ç™¼

_`XAMPP` é è¨­å°‡ `80` ç«¯å£çµ¦ `Apache` ä½¿ç”¨ï¼Œæ‰€ä»¥éœ€è¦è®“ `Apache` å…ˆé‡‹æ”¾é€™å€‹ç«¯å£ï¼›å¦å¤–ï¼Œåœ¨æ­¤ä¹‹å‰å·²ç¶“å…è¨± `80` èˆ‡ `8501` ç«¯å£é˜²ç«ç‰†ï¼Œé€™è£¡ä¸è´…è¿°ã€‚_

<br>

## é‡‹æ”¾ç«¯å£

1. ç·¨è¼¯ `C:\xampp\apache\conf\httpd.conf` æ–‡ä»¶ï¼Œå°‡ `Apache` ç›£è½ç«¯å£æ”¹ç‚ºå…¶ä»–ä»»æ„æœªä½¿ç”¨çš„ç«¯å£ï¼Œå¦‚ `8080`ã€‚

    ```bash
    Listen 8080
    ```

<br>

2. é‡æ–°å•Ÿå‹• `XAMPP` çš„ `Apache` ä¾†å¥—ç”¨è®Šæ›´ã€‚

    ```bash
    C:\xampp\apache\bin\httpd.exe -k restart
    ```

<br>

## é‡æ–°å®šå‘

1. ä½¿ç”¨ `Windows` çš„ `netsh` å·¥å…·å°‡è¢«é‡‹æ”¾çš„ `80` ç«¯å£è½‰ç™¼åˆ° `8501` ç«¯å£ã€‚

    ```bash
    netsh interface portproxy add v4tov4 listenport=80 listenaddress=0.0.0.0 connectport=8501 connectaddress=127.0.0.1
    ```

    ![](images/img_100.png)

<br>

2. ç¢ºèªç«¯å£è½‰ç™¼è¨­ç½®æˆåŠŸã€‚

    ```bash
    netsh interface portproxy show all
    ```

    ![](images/img_101.png)

<br>

## è¨ªå•

1. ä½¿ç”¨å…¬å…± IP è¨ªå• Windows Server ä¸Šçš„ Streamlit æ‡‰ç”¨ï¼Œç¢ºå®šè¨­å®šç„¡èª¤å¾Œï¼Œé€²ä¸€æ­¥å„ªåŒ–è…³æœ¬ã€‚

    ![](images/img_102.png)

<br>

2. å„ªåŒ–è…³æœ¬ï¼Œå…ˆå®‰è£å¥—ä»¶ã€‚

    ```bash
    pip install plotly pandas
    ```

<br>

3. ç·¨è¼¯è…³æœ¬ `app.py`ã€‚

    ```python
    import streamlit as st
    import pandas as pd
    import plotly.express as px
    import numpy as np

    # è¨­å®š Streamlit ç¶²é é…ç½®
    st.set_page_config(
        page_title="è²¡ç¶“çœ‹æ¿",
        layout="wide",
        initial_sidebar_state="expanded"
    )

    # è¨­å®šä¸»é¡Œç‚ºæ·±è‰²æ¨¡å¼
    st.markdown("""
        <style>
            body {
                background-color: #0e1117;
                color: white;
            }
            .stButton>button {
                background-color: #00aaff;
                color: white;
                border: none;
                padding: 10px 24px;
                border-radius: 5px;
            }
            .stPlotlyChart {
                background-color: #0e1117;
            }
            .stSidebar {
                background-color: #1c1e27;
            }
        </style>
        """, unsafe_allow_html=True)

    # ç¶²é æ¨™é¡Œ
    st.title("ğŸ’¼ è²¡ç¶“è³‡è¨Šçœ‹æ¿")
    st.subheader("æ­éœ²é‡å¤§è²¡ç¶“è³‡è¨Š")

    # å´é‚Šæ¬„é¸æ“‡
    st.sidebar.title("é¸é …")
    selected_metric = st.sidebar.selectbox(
        "é¸æ“‡ä¸€å€‹æ•¸æ“šé›†",
        ["è‚¡ç¥¨åƒ¹æ ¼", "äº¤æ˜“é‡", "å¸‚å€¼"]
    )

    # å‡è¨­çš„è²¡å‹™æ•¸æ“š
    data = {
        'æ—¥æœŸ': pd.date_range(start='2024-01-01', periods=100, freq='D'),
        'è‚¡ç¥¨åƒ¹æ ¼': pd.Series(np.random.randn(100).cumsum() + 50),
        'äº¤æ˜“é‡': pd.Series(np.random.randint(100, 1000, size=100)),
        'å¸‚å€¼': pd.Series(np.random.randn(100).cumsum() + 500)
    }

    df = pd.DataFrame(data)

    # ç¹ªè£½é¸æ“‡çš„æ•¸æ“šåœ–è¡¨
    fig = px.line(
        df, x='æ—¥æœŸ', 
        y=selected_metric, 
        title=f'{selected_metric} éš¨æ™‚é–“è®ŠåŒ–åœ–'
    )
    fig.update_layout(
        paper_bgcolor='#0e1117', 
        plot_bgcolor='#0e1117', 
        font=dict(color="white")
    )
    st.plotly_chart(fig, use_container_width=True)

    # æ·»åŠ ä¸‹è¼‰æŒ‰éˆ•
    st.sidebar.download_button(
        label="ğŸ“¥ ä¸‹è¼‰æ•¸æ“š",
        data=df.to_csv(index=False).encode('utf-8'),
        file_name='financial_data.csv',
        mime='text/csv'
    )

    # é å°¾
    st.markdown("""
        <div style='text-align: center; padding: 10px 0;'>
            <small>ğŸ“Š å¯¦è¸å¤§å­¸ AWS èª²ç¨‹ç¯„ä¾‹</small>
        </div>
        """, unsafe_allow_html=True)
    ```

<br>

4. å†æ¬¡åˆ·æ–°æˆ–é‡æ–°è¨ªå•ã€‚

    ![](images/img_103.png)

<br>

___

_END_