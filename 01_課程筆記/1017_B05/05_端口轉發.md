# 端口轉發

_`XAMPP` 預設將 `80` 端口給 `Apache` 使用，所以需要讓 `Apache` 先釋放這個端口；另外，在此之前已經允許 `80` 與 `8501` 端口防火牆，這裡不贅述。_

<br>

## 釋放端口

1. 編輯 `C:\xampp\apache\conf\httpd.conf` 文件，將 `Apache` 監聽端口改為其他任意未使用的端口，如 `8080`。

    ```bash
    Listen 8080
    ```

<br>

2. 重新啟動 `XAMPP` 的 `Apache` 來套用變更。

    ```bash
    C:\xampp\apache\bin\httpd.exe -k restart
    ```

<br>

## 重新定向

1. 使用 `Windows` 的 `netsh` 工具將被釋放的 `80` 端口轉發到 `8501` 端口。

    ```bash
    netsh interface portproxy add v4tov4 listenport=80 listenaddress=0.0.0.0 connectport=8501 connectaddress=127.0.0.1
    ```

    ![](images/img_100.png)

<br>

2. 確認端口轉發設置成功。

    ```bash
    netsh interface portproxy show all
    ```

    ![](images/img_101.png)

<br>

## 訪問

1. 使用公共 IP 訪問 Windows Server 上的 Streamlit 應用。

    ![](images/img_102.png)


<br>

___

_END_