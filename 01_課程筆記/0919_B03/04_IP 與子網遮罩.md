# AWS 中的 IP 與子網遮罩

## 說明

1. 在 AWS 網路配置中，IP 位址與子網遮罩的設定決定了網路範圍和可分配的設備數量。

2. 常見的 IP 區段如 `10.0.0.0/16` 和 `10.0.0.0/24`，這些數字代表了網路的大小及其可容納的設備數量。

## `10.0.0.0/16` 和 `10.0.0.0/24` 的差異

1. `10.0.0.0/16` 表示子網遮罩為 `16 位元`，也就是 `前 16 位元`（`10.0` 部分）是網路位址，是不可變動，剩餘的 16 位元則可用於主機位址；該子網理論上可以容納 `65,534` 個設備。這是由 `65,536` 個 IP 位址中扣除網路位址 (`10.0.0.0`) 和廣播位址 (`10.0.255.255`) 所得。

2. `10.0.0.0/24` 表示子網遮罩為 `24 位元`，也就是 `前 24 位元`（`10.0.0` 部分）是網路位址，後 8 位元可用於主機位址；理論上可分配 `256` 個 IP，但實際上只有 `251` 個可用，因為 AWS 預留了 5 個 IP 用於內部用途，如網路位址 (`10.0.0.0`)、廣播位址 (`10.0.0.255`)、以及其他 3 個內部使用的 IP。

## IP 位址的保留與實際可分配數量

_在每個子網中，以下 IP 位址是保留的，不能用於分配給設備_

1. 網路位址：子網的起始位址，用於表示子網本身，如 `10.0.0.0`。

2. 廣播位址：用於向子網內所有設備傳送訊息，如 `10.0.255.255` 或 `10.0.0.255`。

3. AWS 預留的 IP：AWS 會在每個子網中保留 5 個 IP 位址，用於管理子網內部的通信與服務。

4. 因此，在 `/24` 子網中，實際上可分配的 IP 位址為 251 個，而在 `/16` 子網中，實際可分配的 IP 位址為 65,531 個。

## AWS 中的網路設置

1. 私有子網與公有子網：在 AWS VPC 中，私有子網中的設備可以使用 `NAT Gateway` 訪問外部網路，而公有子網中的設備則可以直接分配公有 IP 位址與外界通信。

2. 路由表：一個路由表可以與多個子網掛載，但一個子網只能對應一個路由表；路由表中的 `local` 條目代表 VPC 內部流量，`nat` 條目則用於訪問外部網路。

3. 區域與可用區域：AWS 的區域（Region）是地理上的範圍，如 `us-east-1`；而可用區域（Availability Zone，AZ）則是這個區域內的實體數據中心，如 `us-east-1a` 代表第一個 AZ。

<br>

___

_END_